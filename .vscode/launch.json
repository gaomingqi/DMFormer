{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "inference",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/inference_ytvos.py",
            "console": "integratedTerminal",
            "args": [
                "--with_box_refine",
                "--binary",
                "--freeze_text_encoder",
                "--output_dir",
                "./Annotations",
                "--resume",
                "/ssd1/gaomingqi/checkpoints/checkpoint0004.pth",
                // "/home/gaomingqi/checkpoints/rvos/swin_tiny_pretrained.pth",
                "--ngpu",
                "1",
                "--batch_size",
                "1",
                "--backbone",
                "swin_t_p4w7",
                "--ytvos_path",
                "/ssd1/gaomingqi/datasets/ref-youtube-vos/",
                "--use_glip",
                "--glip_checkpoint",
                // "/ssd-nvme1/gaomingqi/checkpoints/glip_tiny_model_o365_goldg_cc_sbu.pth"
                "/ssd1/gaomingqi/checkpoints/rvos/glip_tiny_model_o365_goldg_cc_sbu.pth"
            ],
            "env": {
                "CUDA_VISIBLE_DEVICES": "0"
            },
            "justMyCode": true
        },
        {
            "name": "debug",
            "type": "python",
            "request": "launch",
            "console": "integratedTerminal",
            "module": "torch.distributed.launch",
            "args": [
                "--nproc_per_node",
                "1",
                "--master_port",
                "10002",
                "--use_env",
                "main.py",
                "--with_box_refine",
                "--binary",
                "--freeze_text_encoder",
                "--freeze_backbone",
                "--use_glip", 
                "--epochs",
                "6",
                "--lr_drop",
                "2",
                "4",
                "--output_dir",
                "./output/main/debug",
                "--backbone",
                "swin_t_p4w7",
                "--ytvos_path",
                "/ssd1/gaomingqi/datasets/ref-youtube-vos/",
                // "/ssd-nvme1/gaomingqi/datasets/ref-youtube-vos",
                // "./pretrain_output/swin_tiny_pretrained.pth",
                "--glip_checkpoint",
                "/ssd1/gaomingqi/checkpoints/glip/glip_tiny_model_o365_goldg_cc_sbu.pth",
                // "./pretrain_output/swin_tiny_pretrained.pth",
                "--batch_size",
                "1",
                "--booster_checkpoint",
                "/ssd1/gaomingqi/checkpoints/glip/glip_large_model.pth",
                "--booster_config_file",
                "./config/glip_Swin_L.yaml",
            ],
            "env": {
                "CUDA_VISIBLE_DEVICES": "1"
            },
            "justMyCode": true
        },
        {
            "name": "main_train",
            "type": "python",
            "request": "launch",
            "console": "integratedTerminal",
            "module": "torch.distributed.launch",
            "args": [
                "--nproc_per_node",
                "2",
                "--master_port",
                "12345",
                "--use_env",
                "main.py",
                "--with_box_refine",
                "--binary",
                "--freeze_text_encoder",
                "--freeze_backbone",
                "--epochs",
                "6",
                "--lr_drop",
                "3",
                "5",
                "--output_dir",
                "syntax_dirs/resnet50",
                "--backbone",
                "resnet50",
                "--ytvos_path",
                "../../datasets/ref-youtube-vos/"
            ],
            "env": {
                "CUDA_VISIBLE_DEVICES": "2, 3"
            },
            "justMyCode": true
        },
        {
            "name": "pretrain",
            "type": "python",
            "request": "launch",
            "console": "integratedTerminal",
            "module": "torch.distributed.launch",
            "args": [
                "--nproc_per_node",
                "4",
                "--master_port",
                "10001",
                "--use_env",
                "main_pretrain.py",
                "--with_box_refine",
                "--binary",
                "--use_glip", 
                "--freeze_text_encoder",
                "--freeze_backbone",
                "--epochs",
                "12",
                "--lr_drop",
                "8",
                "10",
                "--batch_size",
                "2",
                "--output_dir",
                "./output/pretrain/swint_debug",
                "--backbone",
                "swin_t_p4w7",
                "--dataset_file",
                "all",
                "--coco_path",
                "/ssd1/gaomingqi/datasets/coco/",
                "--glip_checkpoint",
                "/ssd1/gaomingqi/checkpoints/glip/glip_tiny_model_o365_goldg_cc_sbu.pth",
                "--booster_checkpoint",
                "/ssd1/gaomingqi/checkpoints/glip/glip_large_model.pth",
                "--booster_config_file",
                "./config/glip_Swin_L.yaml",
            ],
            "env": {
                "CUDA_VISIBLE_DEVICES": "0,1,2,3"
            },
            "justMyCode": true
        },
        {
            "name": "pretrain-large",
            "type": "python",
            "request": "launch",
            "console": "integratedTerminal",
            "module": "torch.distributed.launch",
            "args": [
                "--nproc_per_node",
                "1",
                "--master_port",
                "10001",
                "--use_env",
                "main_pretrain.py",
                "--with_box_refine",
                "--binary",
                "--use_glip", 
                "--freeze_text_encoder",
                "--freeze_backbone",
                "--epochs",
                "10",
                "--lr_drop",
                "6",
                "8",
                "--output_dir",
                "/ssd1/gaomingqi/output/pretrain/swinl",
                "--backbone",
                "swin_l_p4w7",
                "--dataset_file",
                "all",
                "--coco_path",
                "/ssd1/gaomingqi/datasets/coco/",
                "--glip_checkpoint",
                "/ssd1/gaomingqi/checkpoints/glip/glip_large_model.pth",
                "--tb_split",
                "losslarge6801"
            ],
            "env": {
                "CUDA_VISIBLE_DEVICES": "0"
            },
            "justMyCode": true
        }
    ]
}